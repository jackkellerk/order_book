# Order books
There should be a market object where you just give it mbo msgs and it manages state internally. There should be two classes: one for full depth order book and a TOB order book, so its not confusing trying to parse the code what everything is doing. Market() should know which order book class to use. There should be a consolidated order book that combines all exchanges order books into one... need to do some preprocessing of each message for that. New order id is a unique triplet of (order_id, publisher_id, side). ~~Market object can have a parameter determining if it should consolidate the feeds into one order book.~~ Actually, on second thought, because the consolidated market will have nearly completely different functionality... just create a new class for it in the same market.py file. Similar to how order_book.py will have full market depth order book and a TOB feed.

verify with databento if order ids are unique per side per publisher or just generally unique. if generally unique, this does not seem to be the case for the meta data i downloaded. also, clarify if BAD_TIMESTAMP error means that the entire order book should be cleared (how does rebuilding it work?).
